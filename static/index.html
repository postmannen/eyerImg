{{template "mainHTML"}}

<!--   *******************TEMPLATES*************************** -->

{{define "mainHTML"}}
<!DOCTYPE html>
<html lang="en">

  {{template "head1"}}

  <body>

    {{template "body1" .}}
  </body>

</html>
{{end}}


{{define "head1"}}

<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>eyerImg</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="static/css/bulma.min.css">

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– 
  <link rel="icon" type="image/png" href="static/images/favicon-16.png">
  -->
</head>
{{end}}

{{define "topSection"}}
<nav class="navbar ">

  <div class="navbar-brand">
    <a class="navbar-item" href="/">
      <img src="/static/Eyerio.png" alt="Bulma: a modern CSS framework based on Flexbox" width="112" height="28">
    </a>

    <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false"
      data-target="navMenu">

      <span></span>
      <span></span>
      <span></span>
    </a>
  </div>
  </div>

  <div id="navMenu" class="navbar-menu">

    <a class="navbar-item " href="/login">
      <span class="bd-emoji"> 🔐</span> &nbsp;Login
    </a>

    <a class="navbar-item " href="/logout">
      <span class="bd-emoji"> 🔓</span> &nbsp;Logout
    </a>

    <a class="navbar-item " href="/upload">
      <span class="bd-emoji"> 💾</span> &nbsp;Upload
    </a>

  </div>

  <div class="navbar-end">
    <div class="navbar-item">
      <div class="buttons">
        {{if .Authenticated}}
        <a class="button is-primary" href="/logout">
          <strong>Logout</strong>
        </a>

        {{end}}

        <a class="button is-primary" {{if not .Authenticated}} href="/login" {{end}}>
          <strong>{{if .Authenticated}} {{.Email}}
            {{else}} Sign In {{end}}</strong>
        </a>

      </div>

    </div>

  </div>
</nav>

<script>
  //Script to get an event when the Burger menu is pressed,
  // so it will show items in that menu when on mobile screen.
  document.addEventListener('DOMContentLoaded', () => {

    // Get all "navbar-burger" elements
    const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

    // Check if there are any navbar burgers
    if ($navbarBurgers.length > 0) {

      // Add a click event on each of them
      $navbarBurgers.forEach(el => {
        el.addEventListener('click', () => {

          // Get the target from the "data-target" attribute
          const target = el.dataset.target;
          const $target = document.getElementById(target);

          // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
          el.classList.toggle('is-active');
          $target.classList.toggle('is-active');

        });
      });
    }

  });
</script>
{{end}}


{{define "body1"}}
{{template "topSection" .}}
{{end}}